<!DOCTYPE html><meta content="width=device-width" name=viewport><meta content="提升性能+便携化" name=description><link href=/bundle.css rel=stylesheet><link href=/favicon.ico rel="shortcut icon"><link href=/favicon.svg rel=icon><script src=/bundle.js defer></script><script src=/check.js async></script><title>优雅地游玩Minecraft - kkocdko's blog</title><main><article class=card><h1 id=优雅地游玩minecraft>优雅地游玩Minecraft</h1><blockquote><p>仅适用于<a href=https://minecraft.net/store/minecraft-java-edition>Minecraft Java Edition</a>和Windows平台。其他平台也可参考。</p></blockquote><h3 id=why>Why</h3><ul><li><p>原版Minecraft启动器自带的JRE版本停留在<code>1.8 (Java 8)</code>。其性能相对落后。</p></li><li><p>近几个版本的Minecraft优化十分糟糕。</p></li><li><p>原版启动器直接将JRE安装在当前系统，对于需要多版本Java的用户或开发者非常不友好，且无法实现便携化。</p></li></ul><h3 id=principle>Principle</h3><p>使用新版OpenJDK、OpenJFX，启动器选用HMCL，附加Sodium、Lithium、Phosphor优化Mod，写个“胶水”批处理将这些东西黏起来，再写个简单程序来隐藏CMD窗口，给快捷方式提供图标。</p><h3 id=how>How</h3><p>下载本人提供的模板：</p><p><a href=https://lanzous.com/b00zplcdc>https://lanzous.com/b00zplcdc</a></p><p>找个位置解压，然后补齐各个组件：</p><ul><li><p><a href=https://adoptopenjdk.net>AdoptOpenJDK</a>：选择<code>Java 11</code>-&gt;<code>Hotspot</code>-&gt;<code>Windows 64</code>-&gt;<code>JRE</code>-&gt;<code>.zip</code>，解压到<code>./jre</code>。</p></li><li><p><a href=https://openjfx.io>OpenJFX</a>：选择<code>OpenJFX 11</code>-&gt;<code>Windows 64</code>-&gt;<code>SDK</code>，解压到<code>./jfx</code>。</p></li><li><p><a href=https://github.com/huanghongxun/HMCL>HMCL</a>：选择<code>.jar</code>的构建，重命名为<code>hmcl.jar</code>后置于<code>./</code>。</p></li><li><p><a href=https://github.com/jellysquid3/sodium-fabric>Sodium</a>：置于<code>./.minecraft/mods</code>。</p></li><li><p><a href=https://github.com/jellysquid3/lithium-fabric>Lithium</a>：置于<code>./.minecraft/mods</code>。</p></li><li><p><a href=https://github.com/jellysquid3/phosphor-fabricc>Phosphor</a>：置于<code>./.minecraft/mods</code>。</p></li></ul><p>运行<code>/Minecraft.exe</code>，点击左侧栏“版本列表”，再点击顶部“安装新游戏版本”，选择最新的稳定版本，同时选择安装Fabric。</p><p>等待安装完成之后，回到主页面启动Minecraft即可。</p><details><summary>点此展开冗长的细节（一般用户无需了解）</summary><hr><p>如果你十分激进，也可以选择<code>Java 14</code>。然而当前（<code>20200801</code>）HMCL仍然不支持Java14，因此可能需要为Minecraft和HMCL指定不同的Java版本。</p><p>如果你需要安装极多模组，或是十分在意内存占用，可以选用<code>OpenJ9</code>以代替默认的<code>Hotspot</code> JVM，能省下很多内存。但请注意，这是“牺牲时间换取空间”，通常会导致更高的CPU占用。</p><p>将HMCL设置为“游戏启动后结束启动器”，可以省下<code>150MB</code>左右的内存。</p><p>若要追求极致的启动速度（跳过启动器），可以使用HMCL中的“生成启动脚本”功能，然后将脚本命名为<code>launch.bat</code>，原有的同名文件改个别的名字备用（将失去便携化功能，可以自行修改批处理中的路径来恢复便携化）。</p><p>模板中<code>Minecraft.exe</code>的源码（使用<code>tcc</code>编译）：</p><pre><code class=language-c>#include &lt;windows.h&gt;

void main()
{
    ShellExecute(NULL, NULL, &quot;launch.bat&quot;, NULL, NULL, SW_HIDE);
    SetFocus(FindWindow(&quot;Shell_TrayWnd&quot;, NULL)); // Insure the HMCL window on top
}</code></pre><p>如遇报毒请自行考虑。</p><p>其他源码可以在模板中获取。</p><hr></details></article></main><header class=in></header>